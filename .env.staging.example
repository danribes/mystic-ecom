# Staging Environment Configuration
# Copy this file to .env.staging and fill in actual values

# Environment
NODE_ENV=staging
PUBLIC_SITE_URL=https://staging.yourdomain.com

# Database (Neon Staging Branch)
DATABASE_URL=postgresql://user:password@staging-host.neon.tech:5432/staging_db?sslmode=require

# Redis (Upstash Staging Instance)
REDIS_URL=redis://default:password@staging-redis.upstash.io:6379

# Stripe (Test Mode Keys)
STRIPE_SECRET_KEY=sk_test_...
STRIPE_PUBLISHABLE_KEY=pk_test_...
STRIPE_WEBHOOK_SECRET=whsec_...

# Resend (Test Domain)
RESEND_API_KEY=re_...
RESEND_FROM_EMAIL=staging@yourdomain.com

# Twilio (Test Credentials)
TWILIO_ACCOUNT_SID=AC...
TWILIO_AUTH_TOKEN=...
TWILIO_PHONE_NUMBER=+1...

# JWT Secrets (Staging-specific)
JWT_SECRET=staging-jwt-secret-change-this-in-production
REFRESH_TOKEN_SECRET=staging-refresh-secret-change-this-in-production

# Cloudflare Stream (Test Account)
CLOUDFLARE_ACCOUNT_ID=...
CLOUDFLARE_STREAM_API_TOKEN=...

# Sentry (Staging Environment)
SENTRY_DSN=https://...@sentry.io/...
SENTRY_ENVIRONMENT=staging
SENTRY_TRACES_SAMPLE_RATE=1.0
SENTRY_PROFILES_SAMPLE_RATE=1.0

# Admin Access (Staging - More Permissive)
ADMIN_EMAIL=admin@yourdomain.com
# BYPASS_ADMIN_AUTH should NEVER be true, even in staging
BYPASS_ADMIN_AUTH=false

# Feature Flags (Staging)
ENABLE_FEATURE_FLAGS=true
ENABLE_DEBUG_MODE=true
ENABLE_VERBOSE_LOGGING=true

# Rate Limiting (More Permissive for Testing)
RATE_LIMIT_MAX_REQUESTS=1000
RATE_LIMIT_WINDOW_MS=60000

# Backup Configuration (Staging)
BACKUP_DIR=./backups/staging
BACKUP_RETENTION_DAYS=7
BACKUP_RETENTION_COUNT=5
BACKUP_API_KEY=staging-backup-key

# Monitoring (Staging)
ENABLE_MONITORING=true
MONITORING_INTERVAL=30000

# Email Testing
ENABLE_EMAIL_SENDING=true
EMAIL_TEST_MODE=true

# Payment Testing
ENABLE_PAYMENT_PROCESSING=true
PAYMENT_TEST_MODE=true

# Session Configuration
SESSION_SECRET=staging-session-secret-change-this
SESSION_MAX_AGE=86400000

# CORS (Allow More Origins for Testing)
ALLOWED_ORIGINS=http://localhost:3000,http://localhost:4321,https://staging.yourdomain.com

# Cloudflare Pages (Staging)
CF_PAGES_URL=https://staging-branch.yourdomain.pages.dev
CF_PAGES_COMMIT_SHA=staging

# Testing Utilities
ENABLE_TEST_UTILITIES=true
SEED_DATABASE=false
